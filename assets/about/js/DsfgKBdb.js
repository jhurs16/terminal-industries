import{_ as D}from"./DFywznAZ.js";import{_ as L}from"./BTKkCQzb.js";import{f as N,E as m,g as C,aK as W,v as q,d as A,i as F,o as l,B as V,C as $,c as d,a as n,b as z,u as p,F as _,k as y,e as H,t as E,A as T,K,X as b,Q as P,_ as j}from"./DTbFyfnF.js";import{u as G}from"./yAOro401.js";import"./K105tSmJ.js";const I={class:"sticky-container"},M={class:"heading__wrapper"},Q={key:0},U={class:"anchor-heading anchor-to","aria-hidden":"true"},X={class:"anchor-heading","aria-hidden":"true"},B="Yard Operating System.",J=N({__name:"YOSSection",props:{blok:{type:Object,required:!0}},setup(O){const v=m("wrapperEl"),f=m("headingWordContainerEl"),i=m("anchorsEl"),w=m("anchorsToEl"),u=[{from:{x:0,y:0,width:0,height:0},to:{x:0,y:0,width:0,height:0}},{from:{x:0,y:0,width:0,height:0},to:{x:0,y:0,width:0,height:0}},{from:{x:0,y:0,width:0,height:0},to:{x:0,y:0,width:0,height:0}}],S=B.split(" "),c=C("green");let x;function R(){if(i.value&&w.value)for(let r=0;r<x.length;r++){const a=x[r];if(!a)continue;const g=w.value[r],h=a.getBoundingClientRect();u[r].from=h;const e=g.getBoundingClientRect();u[r].to=e;const{from:o,to:t}=u[r],s=i.value[r];c.value==="green"&&b.gsap.set(s,{x:()=>o.x+o.width*.5-t.x-t.width*.5,y:()=>o.y+o.height*.5-t.y-t.height*.5,scale:()=>o.height/t.height}),s.style.opacity="1",P.Class.add(a,"hide")}}const k=C(!1);return W("md",r=>{k.value=r}),q(async()=>{f.value&&(x=f.value.map(r=>r.querySelector("span")),G(r=>{R(),K(async()=>{if(!f.value||!i.value||!v.value)return;let a=!1;const g=.99,h=b.gsap.timeline({scrollTrigger:{trigger:v.value,start:"top top",end:"90% bottom",scrub:!0,onUpdate:e=>{e.progress>=g&&!a?(a=!0,c.value="white"):e.progress<g&&a&&(a=!1,c.value="green")}}});for(let e=0;e<f.value.length;e++){const o=[...f.value[e].querySelectorAll("span")];k.value,h.fromTo(o,{opacity:1},{opacity:0,duration:.5,stagger:-.05},0)}if(k.value)for(let e=0;e<u.length;e++){const o=i.value[e],{from:t,to:s}=u[e];h.fromTo(o,{x:()=>t.x+t.width*.5-s.x-s.width*.5,y:()=>t.y+t.height*.5-s.y-s.height*.5,scale:()=>t.height/s.height},{x:0,y:0,scale:1,duration:2,ease:"power3.in"},1)}else{if(!i.value)return;for(let e=0;e<u.length;e++){const o=i.value[e],{from:t,to:s}=u[e];b.gsap.set(o,{x:0,y:0,scale:1})}h.fromTo(i.value,{opacity:0},{opacity:1,duration:.4,stagger:.1},1),h.to(i.value,{duration:.4})}})}))}),(r,a)=>{const g=D,h=L,e=$("editable");return l(),A(h,{top:!0},{default:F(()=>[V((l(),d("section",{ref_key:"wrapperEl",ref:v,class:T(["sticky-holder",[p(c)]])},[n("div",I,[z(g,{theme:p(c),mode:p(c)==="green"?"pulse":"wave","blobs-animation":p(c)==="white"},null,8,["theme","mode","blobs-animation"]),n("div",M,[a[1]||(a[1]=n("div",{class:"sub-title"},"That's the",-1)),n("h2",{"aria-label":B},[(l(!0),d(_,null,y(p(S),(o,t)=>(l(),d("span",{ref_for:!0,ref_key:"headingWordContainerEl",ref:f,key:`word-${t}`,"aria-hidden":"true",class:"heading__word-wrapper"},[(l(!0),d(_,null,y(o,(s,Y)=>(l(),d("span",{key:`letter-${Y}`},E(s),1))),128)),t+1!==p(S).length?(l(),d("span",Q," ")):H("",!0)]))),128)),n("div",U,[(l(),d(_,null,y("YOS",(o,t)=>n("span",{ref_for:!0,ref_key:"anchorsToEl",ref:w,key:t,class:"anchor-letter"},E(o),1)),64)),a[0]||(a[0]=n("span",{class:"superscript"},"™",-1))]),n("div",X,[(l(),d(_,null,y("YOS",(o,t)=>n("span",{ref_for:!0,ref_key:"anchorsEl",ref:i,key:`anchor-${t}`,class:"anchor-letter"},E(o),1)),64)),n("span",{class:T(["superscript",{show:p(c)==="white"}])},"™",2)])])])])],2)),[[e,O.blok]])]),_:1})}}}),ae=j(J,[["__scopeId","data-v-15a59758"]]);export{ae as default};
