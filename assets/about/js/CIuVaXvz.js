import{_ as me}from"./mFt5ISIH.js";import pe from"./REf8v6gy.js";import{_ as be}from"./DFywznAZ.js";import te from"./RkfjLTg0.js";import{f as oe,E as w,au as ke,g as F,h as d,c as r,o as a,a as o,aX as _e,b as S,B as A,aS as W,u as s,i as B,e as c,t as H,aL as fe,aM as X,b0 as J,_ as ae,aW as Y,a9 as K,I as ge,d as R,A as y,C as ve,r as Q,F as Z,k as ee,O as he,X as ye}from"./DTbFyfnF.js";import{_ as we}from"./BTKkCQzb.js";import{u as Se}from"./BXhdW89J.js";import{u as Ee}from"./B3X0cXmp.js";import"./DSY6LiOS.js";import"./Df6QSTmN.js";import"./K105tSmJ.js";const Te={class:"subscribe-form"},Ne={class:"inner"},$e={class:"field-row"},Fe={class:"field-wrapper"},Re={class:"field-wrapper"},Ce={class:"field-wrapper email-field"},Ae={key:0,class:"message-wrapper"},Be={key:1,class:"message-wrapper"},De=oe({__name:"SubscribeForm",setup(L){const n=w("formRef"),h=ke(!1),E=F(!1),m=F(!1),k=F(""),p=F(""),_=F(""),C=d(()=>{const i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return k.value.trim()!==""&&p.value.trim()!==""&&_.value.trim()!==""&&i.test(_.value.trim())}),f=async()=>{if(!(X(h)||!C.value)){J(h,!0);try{const i=X(n);if(!i)return;const t=new FormData(i),N={first_name:t.get("first_name"),last_name:t.get("last_name"),email:t.get("email")},l=await fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!l.ok){const $=await l.json().catch(()=>({message:"Unknown error"}));throw new Error($.message||`HTTP error! status: ${l.status}`)}await l.json(),E.value=!0,i.reset(),k.value="",p.value="",_.value=""}catch(i){console.error("Form submission error:",i),i instanceof Error?m.value=i.message:m.value="An unexpected error occurred. Please try again."}finally{J(h,!1)}}},T=()=>{E.value=!1,m.value=!1};return(i,t)=>{const N=te;return a(),r("section",Te,[o("div",Ne,[o("form",{id:"subscribe-form",ref:"formRef",class:"form | body-8",onSubmit:_e(f,["prevent"]),onInput:T},[o("div",$e,[o("div",Fe,[t[3]||(t[3]=o("label",{class:"label",for:"first_name"},"First Name",-1)),A(o("input",{id:"first_name","onUpdate:modelValue":t[0]||(t[0]=l=>k.value=l),class:"field",type:"text",name:"first_name",required:"",placeholder:"Enter your first name"},null,512),[[W,k.value]])]),o("div",Re,[t[4]||(t[4]=o("label",{class:"label",for:"last_name"},"Last Name",-1)),A(o("input",{id:"last_name","onUpdate:modelValue":t[1]||(t[1]=l=>p.value=l),class:"field",type:"text",name:"last_name",required:"",placeholder:"Enter your last name"},null,512),[[W,p.value]])])]),o("div",Ce,[t[5]||(t[5]=o("label",{class:"label",for:"email"},"Email",-1)),A(o("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=l=>_.value=l),class:"field",type:"email",name:"email",required:"",placeholder:"Enter your email address"},null,512),[[W,_.value]])]),t[7]||(t[7]=o("div",{class:"privacy-notice"},[o("p",{class:"small-text"}," We'll only use your email to share Terminal updates, resources, and invites you've opted into. You can unsubscribe anytime. ")],-1)),S(N,{tag:"input",type:"submit",class:"button-send | label-4",value:"Subscribe",disabled:!C.value||s(h),"hover-background":"var(--c-dark-green)"},null,8,["disabled"]),S(fe,{mode:"out-in",name:"reveal-y"},{default:B(()=>[E.value?(a(),r("div",Ae,t[6]||(t[6]=[o("p",null,"Thank you for subscribing! We'll be in touch soon.",-1)]))):m.value?(a(),r("div",Be,[o("p",null,H(m.value),1)])):c("",!0)]),_:1})],544)])])}}}),Pe=ae(De,[["__scopeId","data-v-37cf64d6"]]),We={key:1,class:"background-image-wrapper","aria-hidden":"true"},He={key:3,class:"dark-backdrop","aria-hidden":"true"},Le={key:4,class:"bottom-gradient","aria-hidden":"true"},Ve=["aria-labelledby"],Ie={ref:"contentEl",class:"section-content"},Ge={key:0,id:"section-label",class:"label label-5",role:"text"},Me={key:0,class:"content-blocks"},Oe=oe({__name:"SectionIntroduction",props:{blok:{}},setup(L){const n=L,h={[Y.PARAGRAPH]:e=>{const b=e.attrs||{},{style:g,textAlign:v,...D}=b;return K("p",{...D,class:"paragraph body-4",style:v?{textAlign:v}:void 0},e.children)}},E={[Y.HEADING]:e=>{var v;const b=((v=e.attrs)==null?void 0:v.level)||2,g=b===3?"title-h3":"title-si";return K(`h${b}`,{class:g},e.children)}},m=w("el"),k=w("sectionEl"),p=w("contentWrapperEl"),_=w("main"),C=w("backgroundWrapperEl"),f=d(()=>n.blok.background_type?n.blok.background_type==="canvas_grid_pulse"?"pulse":n.blok.background_type==="canvas_grid_waves"?"wave":!1:!1),T=d(()=>n.blok.background_type&&n.blok.background_type!=="none"&&!f.value),i=d(()=>f.value||T.value),t=d(()=>n.blok.isFollowingLogosGrid),N=d(()=>n.blok.isFullscreen),l=d(()=>n.blok.background_theme==="dark"?"dark":"white"),$=d(()=>l.value==="dark"),se=d(()=>n.blok.top_notch===!0),re=d(()=>n.blok.bottom_notch===!0),ne=d(()=>{switch(n.blok.background_type){case"align_with_logo_grid":return"next-to-grid";case"layout_1":return"layout_1";case"center-down":return"center-down";case"green-top-animation":return"green-top-animation";default:return 0}});return Se(()=>{Ee(_.value,k.value)}),ge(e=>{var g;if(!i.value||!((g=e.conditions)!=null&&g.isLg))return;ye.gsap.timeline({scrollTrigger:{trigger:m.value,start:"top bottom",end:"bottom top",scrub:!0}}).fromTo(p.value,{y:()=>(m.value.offsetHeight-p.value.offsetHeight)*.25},{y:()=>-(m.value.offsetHeight-p.value.offsetHeight)*.25,ease:"none",duration:1},0)}),(e,b)=>{const g=me,v=pe,D=be,P=Q("StoryblokRichText"),le=Q("StoryblokComponent"),ie=Pe,ce=te,ue=we,de=ve("editable");return a(),R(ue,{top:s(se),bottom:s(re)},{default:B(()=>{var V,I,G,M,O,j,x,U,q;return[o("section",{ref_key:"el",ref:m,class:y(["section__wrapper",{"has-bg-path":s(T),"next-to-logos":s(t),"is-fullscreen":s(N),"has-dark-theme":s($)}])},[s(T)?(a(),r("div",{key:0,ref_key:"backgroundWrapperEl",ref:C,class:"background-wrapper","aria-hidden":"true"},[S(g,{"gradient-mask":"",layout:s(ne)},{default:B(()=>b[0]||(b[0]=[o("div",{class:"background-sizer"},null,-1)])),_:1},8,["layout"])],512)):c("",!0),(V=e.blok.background_image)!=null&&V.filename&&((I=e.blok.background_image)==null?void 0:I.filename)!==""?(a(),r("div",We,[S(v,{class:"background-image",asset:e.blok.background_image,lazy:!1},null,8,["asset"])])):c("",!0),s(f)?(a(),r("div",{key:2,class:y(["background-canvas-wrapper",{"has-background-image":e.blok.background_image}]),"aria-hidden":"true"},[S(D,{theme:s(l),mode:s(f),"blobs-animation":s(f)==="wave"},null,8,["theme","mode","blobs-animation"])],2)):c("",!0),s($)?(a(),r("div",He)):c("",!0),s($)?(a(),r("div",Le)):c("",!0),A((a(),r("div",{ref_key:"sectionEl",ref:k,class:y(["section-introduction",e.blok.css]),"aria-labelledby":e.blok.label?"section-label":void 0},[o("div",{ref_key:"contentWrapperEl",ref:p,class:"content-wrapper"},[o("div",Ie,[e.blok.label?(a(),r("p",Ge,H(e.blok.label),1)):c("",!0),o("header",{ref:"main",class:y(["header animated-strong",{spacing:((O=(M=(G=e.blok.copy)==null?void 0:G.content)==null?void 0:M[0])==null?void 0:O.content)||e.blok.buttons&&e.blok.buttons.length>0}])},[S(P,{class:"title",doc:e.blok.title,resolvers:E},null,8,["doc"])],2),(U=(x=(j=e.blok.copy)==null?void 0:j.content)==null?void 0:x[0])!=null&&U.content?(a(),r("div",{key:1,class:y(["paragraphs-wrapper",{multiple:e.blok.multipleColumns,wide:e.blok.wide}])},[e.blok.copy?(a(),R(P,{key:0,class:"paragraph",doc:e.blok.copy,resolvers:h},null,8,["doc"])):c("",!0)],2)):c("",!0)],512),e.blok.content_blocks&&e.blok.content_blocks.length>0?(a(),r("div",Me,[(a(!0),r(Z,null,ee(e.blok.content_blocks,u=>(a(),R(le,{key:u._uid,blok:u},null,8,["blok"]))),128))])):c("",!0),(q=e.blok)!=null&&q.subscribe_form?(a(),R(ie,{key:1})):c("",!0),e.blok.buttons&&e.blok.buttons.length>0?(a(),r("nav",{key:2,class:y(["buttons",{"buttons-underlined":e.blok.buttons_underlined}]),"aria-label":"Section actions"},[(a(!0),r(Z,null,ee(e.blok.buttons,(u,z)=>(a(),R(ce,{key:z,to:u.link.cached_url==="home"?"/":u.link.cached_url,"button-type":e.blok.buttons_underlined?"underlined":null,"hover-background":"var(--c-dark-green)","hover-color":"var(--c-lime)","aria-label":(u==null?void 0:u.label)||`Action ${z+1}`},{default:B(()=>[he(H(u==null?void 0:u.label),1)]),_:2},1032,["to","button-type","aria-label"]))),128))],2)):c("",!0)],512)],10,Ve)),[[de,e.blok]])],2)]}),_:1},8,["top","bottom"])}}}),et=ae(Oe,[["__scopeId","data-v-184db619"]]);export{et as default};
